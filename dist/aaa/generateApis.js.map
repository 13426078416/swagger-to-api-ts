{"version":3,"sources":["../../src/aaa/generateApis.js"],"names":["generateApis","apis","types","config","code","SERVICE_BEGINNING","apisCode","sort","serviceName","_serviceName","reduce","prev","contentType","summary","deprecated","queryParamsTypeName","pathParams","requestBody","headerParams","isQueryParamsNullable","isHeaderParamsNullable","responses","method","endPoint","pathParamsRefString","additionalAxiosConfig","security","description","DEPRECATED_WARM_MESSAGE","undefined","_name","name","SERVICE_NEEDED_FUNCTIONS","error","console"],"mappings":";;;;;;;AAAA;;AAQA;;AAKA;;AAEA,SAASA,YAAT,CAAsBC,IAAtB,EAA4BC,KAA5B,EAAmCC,MAAnC,EAA2C;AACzC,MAAIC,OAAOC,0BAAX;AACA,MAAI;AACF,QAAMC,WAAWL,KACdM,IADc,CACT;AAAA,UAAGC,WAAH,QAAGA,WAAH;AAAA,UAAiCC,YAAjC,SAAoBD,WAApB;AAAA,aACJ,wBAAYA,WAAZ,EAAyBC,YAAzB,CADI;AAAA,KADS,EAIdC,MAJc,CAKb,UACEC,IADF,SAoBK;AAAA,UAjBDC,WAiBC,SAjBDA,WAiBC;AAAA,UAhBDC,OAgBC,SAhBDA,OAgBC;AAAA,UAfDC,UAeC,SAfDA,UAeC;AAAA,UAdDN,WAcC,SAdDA,WAcC;AAAA,UAbDO,mBAaC,SAbDA,mBAaC;AAAA,UAZDC,UAYC,SAZDA,UAYC;AAAA,UAXDC,WAWC,SAXDA,WAWC;AAAA,UAVDC,YAUC,SAVDA,YAUC;AAAA,UATDC,qBASC,SATDA,qBASC;AAAA,UARDC,sBAQC,SARDA,sBAQC;AAAA,UAPDC,SAOC,SAPDA,SAOC;AAAA,UANDC,MAMC,SANDA,MAMC;AAAA,UALDC,QAKC,SALDA,QAKC;AAAA,UAJDC,mBAIC,SAJDA,mBAIC;AAAA,UAHDC,qBAGC,SAHDA,qBAGC;AAAA,UAFDC,QAEC,SAFDA,QAEC;;AACH,aACEf,eAEV,qBAAS;AACTgB,qBAAad,OADJ;AAETC,oBAAYA,aAAac,gCAAb,GAAuCC;AAF1C,OAAT,CAFU,wBAKSrB,WALT;AAOA;AACAS,oBACO,2BAAe,aAAf,EAA8B,IAA9B,EAAoCA,WAApC,CADP,SAEIF,sBACG,2BACD,aADC,EAED,CAACI,qBAFA,EAGDJ,mBAHC,CADH,SAMA,iBAhBJ,oDAoBRD,iEAIKN,WAJL,qBAKKoB,gCALL,wBAQI,EA5BI,4BA8BON,MA9BP,uBA+BED,YAAY,sBAAUA,SAAV,CAAZ,GAAmC,KA/BrC,iCAiCSb,WAjCT,6BAiC2Cc,MAjC3C,mBAkCNA,WAAW,MAAX,IAAqBA,WAAW,MAAhC,GAAyC,cAAzC,GAA0D,EAlCpD,8BAmCSG,qBAnCT,oGA0CVjB,WA1CU,iBA0CYe,QA1CZ,WADF;AA8CD,KAxEY,EAyEb,EAzEa,CAAjB;;AA4EAnB,YACEF,MAAMQ,MAAN,CAAa,UAACC,IAAD,SAA2B;AAAA,UAAZmB,KAAY,SAAlBC,IAAkB;;AACtC,UAAMA,OAAO,0BAAcD,KAAd,CAAb;;AAEA,UAAI,CAAC,6BAAiBxB,QAAjB,EAA2ByB,IAA3B,CAAL,EAAuC;AACrC,eAAOpB,IAAP;AACD;;AAED,aAAOA,cAAWoB,IAAX,OAAP;AACD,KARD,EAQG,UARH,iCAQ0C5B,OAAO4B,IARjD,UADF;;AAWA3B,YAAQ4B,iCAAR;AACA5B,YAAQE,QAAR;AACA,WAAOF,IAAP;AACD,GA3FD,CA2FE,OAAO6B,KAAP,EAAc;AACdC,YAAQD,KAAR,CAAcA,KAAd;AACA,WAAO,EAAP;AACD;AACF;;QAEQjC,Y,GAAAA,Y","file":"generateApis.js","sourcesContent":["import {\n  getTsType,\n  isAscending,\n  getDefineParam,\n  getParamString,\n  getSchemaName,\n  isMatchWholeWord,\n} from \"./utils\";\nimport {\n  SERVICE_BEGINNING,\n  SERVICE_NEEDED_FUNCTIONS,\n  DEPRECATED_WARM_MESSAGE,\n} from \"./strings\";\nimport { getJsdoc } from \"./utilities/jsdoc\";\n\nfunction generateApis(apis, types, config) {\n  let code = SERVICE_BEGINNING;\n  try {\n    const apisCode = apis\n      .sort(({ serviceName }, { serviceName: _serviceName }) =>\n        isAscending(serviceName, _serviceName)\n      )\n      .reduce(\n        (\n          prev,\n          {\n            contentType,\n            summary,\n            deprecated,\n            serviceName,\n            queryParamsTypeName,\n            pathParams,\n            requestBody,\n            headerParams,\n            isQueryParamsNullable,\n            isHeaderParamsNullable,\n            responses,\n            method,\n            endPoint,\n            pathParamsRefString,\n            additionalAxiosConfig,\n            security,\n          }\n        ) => {\n          return (\n            prev +\n            `\n${getJsdoc({\n  description: summary,\n  deprecated: deprecated ? DEPRECATED_WARM_MESSAGE : undefined,\n})}export function ${serviceName} (\n          ${\n            /** Request Body */\n            requestBody\n              ? `${getDefineParam(\"requestBody\", true, requestBody)},`\n              : queryParamsTypeName\n              ? `${getParamString(\n                  \"requestBody\",\n                  !isQueryParamsNullable,\n                  queryParamsTypeName\n                )},`\n              : \"requestBody:{},\"\n          }configOverride?:AxiosRequestConfig\n){\n  ${\n    deprecated\n      ? `\n  if (__DEV__) {\n    console.warn(\n      \"${serviceName}\",\n      \"${DEPRECATED_WARM_MESSAGE}\",\n    );\n  }`\n      : \"\"\n  }\n  return request.${method}<ResponseData<${\n              responses ? getTsType(responses) : \"any\"\n            }>>(\n    objectToString(${serviceName}.key, requestBody, \"${method}\"),\n    ${method === \"post\" || method === \"POST\" ? \"requestBody,\" : \"\"}\n    overrideConfig(${additionalAxiosConfig},\n      configOverride,\n    )\n  )\n}\n\n/** Key is end point string without base url */\n${serviceName}.key = \"${endPoint}\";\n`\n          );\n        },\n        \"\"\n      );\n\n    code +=\n      types.reduce((prev, { name: _name }) => {\n        const name = getSchemaName(_name);\n\n        if (!isMatchWholeWord(apisCode, name)) {\n          return prev;\n        }\n\n        return prev + ` ${name},`;\n      }, \"import {\") + `}  from \"../interface/${config.name}\"\\n`;\n\n    code += SERVICE_NEEDED_FUNCTIONS;\n    code += apisCode;\n    return code;\n  } catch (error) {\n    console.error(error);\n    return \"\";\n  }\n}\n\nexport { generateApis };\n"]}